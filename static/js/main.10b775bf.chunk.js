(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{349:function(e,t,a){e.exports=a.p+"static/media/defaultBcg.6113d505.jpeg"},350:function(e,t,a){e.exports=a.p+"static/media/ocean-room1.20021e3a.jpeg"},351:function(e,t,a){e.exports=a.p+"static/media/view.f30e53c8.jpeg"},354:function(e,t,a){e.exports=a.p+"static/media/details-1.33ab9f1e.jpeg"},355:function(e,t,a){e.exports=a.p+"static/media/details-3.7345b9f6.jpeg"},356:function(e,t,a){e.exports=a.p+"static/media/details-4.7569a316.jpeg"},361:function(e){e.exports=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"string",name:"_nameRoom",type:"string"},{internalType:"string[]",name:"_imageRoom",type:"string[]"},{internalType:"string",name:"_description",type:"string"},{internalType:"string",name:"_services",type:"string"},{internalType:"string",name:"_category",type:"string"},{internalType:"uint256",name:"_size",type:"uint256"},{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_capacity",type:"uint256"},{internalType:"uint256",name:"_dateAvailable",type:"uint256"}],name:"addRoom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"},{internalType:"uint256",name:"_timestamp",type:"uint256"},{internalType:"string[]",name:"_imageRoom",type:"string[]"},{internalType:"uint256",name:"_price",type:"uint256"}],name:"editAvailableDate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getHistory",outputs:[{internalType:"address payable",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"getInformationRoom",outputs:[{internalType:"address payable",name:"",type:"address"},{internalType:"string",name:"",type:"string"},{internalType:"string[]",name:"",type:"string[]"},{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"string",name:"",type:"string"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bool",name:"",type:"bool"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getRoomBookingLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_index",type:"uint256"}],name:"rentRoom",outputs:[],stateMutability:"payable",type:"function"}]},362:function(e){e.exports=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]},370:function(e,t,a){e.exports=a(782)},376:function(e,t,a){},435:function(e,t){},456:function(e,t){},458:function(e,t){},532:function(e,t){},534:function(e,t){},567:function(e,t){},572:function(e,t){},574:function(e,t){},581:function(e,t){},594:function(e,t){},626:function(e,t){},628:function(e,t){},782:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(106),o=a.n(l),i=a(21),c=a.n(i),s=a(44),m=a(20);a(376);function u(e){var t=e.children,a=e.hero;return r.a.createElement("header",{className:a},t)}function p(e){var t=e.children,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("div",null),r.a.createElement("p",null,n),t)}u.defaultProps={hero:"defaultHero"};var d=a(19),f=a(11),y=a(12),b=a(15),E=a(14);function v(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t))}var g=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={services:[{title:"Spa & Retreat",url:"spa",info:" Meet one of our yogis for a complimentary class, indulge in a rejuvenating massage, or take the first steps on a life-changing path at our Ayurvedic Retreat, an enclave of ancient knowledge and infinite well-being set within its own herb garden."},{title:"Dining",url:"dining",info:"This contemporary Italian restaurant serves light Mediterranean fare during the day and offers a fine dining experience in the evening, serving up vibrant dishes with a southern Italian twist by Neapolitan Chef Ciro D'Amico."},{title:"Sunset Fishing",url:"fishing",info:"Cast off and catch your dinner \u2013 our chefs will be ready to cook it to taste. This two-hour dhoni experience provides a picturesque vantage point from which to appreciate our tropical paradise. It\u2019s pretty relaxing too...until the time comes to reel something in!"}]},e}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"services"},r.a.createElement(v,{title:"Treat Yourself",id:"services-title"}),r.a.createElement("div",{className:"services-center"},this.state.services.map(function(e,t){return r.a.createElement("article",{key:t,className:"service"},r.a.createElement("h6",null,e.title),r.a.createElement("p",null,e.info))})))}}]),a}(n.Component);function h(){return window.scrollTo(0,0),r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null,r.a.createElement(p,{title:"Have Fun Your Room"},r.a.createElement(d.b,{to:"/rooms",className:"btn-primary"},"Discover"))),r.a.createElement(g,null))}var N=a(349),j=a.n(N);function x(e){e.key;var t=e.room,a=t.index,n=t.name,l=t.imageURL,o=t.price;return r.a.createElement("div",null,r.a.createElement("div",{className:"room-name-container"},r.a.createElement("div",{className:"room-info"},n," ",r.a.createElement("p",null,"Starting at: $",o/1e18))),r.a.createElement("article",{className:"room"},r.a.createElement(d.b,{to:"/rooms/".concat(a),className:"cta line--link-animation"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:l[0]||j.a,alt:"single project"})),r.a.createElement("div",{className:"explore-btn"},r.a.createElement("span",{className:"room-info-btn"},"Explore")))))}function O(e){var t=e.rooms;return 0===t.length?r.a.createElement("div",{className:"empty-search"},r.a.createElement("h3",null,"Unfortunately no rooms matched your search")):r.a.createElement("section",{className:"roomslist"},r.a.createElement("div",{className:"roomslist-center"},t.map(function(e){if(0==e.isBooking)return r.a.createElement(x,{key:e.id,room:e})})))}var w,T,k=function(e){return r.a.createElement("div",null,r.a.createElement(O,{rooms:e.rooms}))},S=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{hero:"roomsHero"},r.a.createElement(p,{title:"Available Rooms"},r.a.createElement(d.b,{to:"/",className:"btn-primary"},"Return Home"))),r.a.createElement(k,{rooms:e.rooms}))},B=a(365),R=a(350),C=a.n(R),F=a(70),D=a(71),A=a(351),M=a.n(A),_=D.a.header(w||(w=Object(F.a)(["\n  min-height: calc(100vh - 66px);\n  background: linear-gradient(180deg, transparent 0, #202020),\n    url(",") center/cover no-repeat;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),function(e){return e.img?e.img:M.a}),U=a(354),L=a.n(U),z=a(355),I=a.n(z),H=a(356),P=a.n(H),W=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).state={defaultBcg:C.a},n}return Object(y.a)(a,[{key:"render",value:function(){var e=this;window.scrollTo(0,0);var t=this.props.rooms[this.props.match.params.id],a=this.props.match.params.id;if(!t)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"Uh Oh! No such room could be found!"),r.a.createElement(d.b,{to:"/rooms",className:"btn-primary-back"},"Back to rooms"));if(1==!t.isBook)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"Uh Oh! This room is booked!"),r.a.createElement(d.b,{to:"/rooms",className:"btn-primary-back"},"Back to rooms"));var n=t.name,l=t.description,o=t.capacity,i=t.services,c=t.size,s=t.price,m=t.imageURL,u=t.availableDate;console.log(t);var f=Object(B.a)(m),y=f[0];f.slice(1);console.log(u);var b=new Date(1e3*u);return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{img:y||this.state.defaultBcg},r.a.createElement(p,{title:"".concat(n," room")},r.a.createElement(d.b,{to:"/rooms",className:"btn-primary"},"Back to rooms"))),r.a.createElement("section",{className:"single-room"},r.a.createElement("div",{className:"single-room-images"},r.a.createElement("img",{key:"1",src:L.a,alt:"room1"}),r.a.createElement("img",{key:"2",src:I.a,alt:"room3"}),r.a.createElement("img",{key:"3",src:P.a,alt:"room4"})),r.a.createElement("div",{className:"single-room-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"Details"),r.a.createElement("p",null,l)),r.a.createElement("article",{className:"info"},r.a.createElement("h3",null,"Info"),r.a.createElement("h6",null,"Price : $",s/1e18," USD"),r.a.createElement("h6",null,"Size : ",c," sq. ft."),r.a.createElement("h6",null,"max capacity :"," ","".concat(o,o>1?" people":" person")),r.a.createElement("h6",null,"services : ",i," included"),r.a.createElement("h6",null,"date available: ",b.toLocaleDateString("en-US")))),r.a.createElement("div",{className:"single-room-booking"},r.a.createElement(d.b,{to:"",className:"btn-primary",onClick:function(n){n.preventDefault(),e.props.rentRoom(t.price/1e18,a)}},"Booking"))))}}]),a}(n.Component),q=a(127),$=a.n(q),Y=(a(196),D.a.div(T||(T=Object(F.a)(["\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]))));function G(e){var t=e.data;return 0==t.length?r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"Uh Oh! No have history!"),r.a.createElement(d.b,{to:"/rooms",className:"btn-primary-back"},"Back to rooms")):(console.log(t),r.a.createElement("section",{className:"addroom-container"},r.a.createElement("div",{className:"roomlist-center"},r.a.createElement("div",{className:"section-addroom"},r.a.createElement("h4",null,"History")),r.a.createElement("div",null,r.a.createElement("table",{className:""},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Index"),r.a.createElement("th",null,"RoomName"),r.a.createElement("th",null,"Cost"),r.a.createElement("th",null,"Booking"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Renter Address Address"))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.index),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$ ",e.price/1e18),r.a.createElement("td",null,0==e.isBooking?"No":"Yes"),r.a.createElement("td",null,new Date(1e3*e.availableDate).toLocaleDateString("en-US")),r.a.createElement("td",null,e.renter))})))))))}var J,K,Q=function(e){var t=e.historyRoom;return r.a.createElement(Y,null,r.a.createElement(G,{data:t}))},V=a(132),X=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(""),c=Object(m.a)(i,2),s=c[0],u=c[1],p=Object(n.useState)(""),d=Object(m.a)(p,2),f=d[0],y=d[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),v=E[0],g=E[1],h=Object(n.useState)(""),N=Object(m.a)(h,2),j=N[0],x=N[1],O=Object(n.useState)(""),w=Object(m.a)(O,2),T=w[0],k=w[1],S=Object(n.useState)(""),B=Object(m.a)(S,2),R=B[0],C=B[1],F=Object(n.useState)(""),D=Object(m.a)(F,2),A=D[0],M=D[1],_=Object(n.useState)(""),U=Object(m.a)(_,2),L=U[0],z=U[1],I=Object(n.useState)(new Date),H=Object(m.a)(I,2),P=H[0],W=H[1];return r.a.createElement("section",{className:"addroom-container"},r.a.createElement("div",{className:"roomlist-center"},r.a.createElement("div",{className:"section-addroom"},r.a.createElement("h4",null,"Add New Room For Rent")),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.addToRoom(l,s,f,v,j,T,R,A,L,P),o(""),u(""),y(""),g(""),C(""),x(""),k(""),M(""),z(""),W("")}},r.a.createElement("div",{className:"filter-room"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Room Name"),r.a.createElement("input",{name:"name",className:"add-room-input form-control",required:!0,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"image"},"Image"),r.a.createElement("input",{name:"image",className:"add-room-input form-control",required:!0,onChange:function(e){return u(e.target.value)}}))),r.a.createElement("div",{className:"filter-room"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"category"},"Services"),r.a.createElement("select",{name:"services",id:"services",className:"add-room-input form-control",onChange:function(e){return g(e.target.value)}},r.a.createElement("option",{value:"all"},"All"),r.a.createElement("option",{value:"Wifi"},"Wifi"),r.a.createElement("option",{value:"Breakfast"},"Breakfast"),r.a.createElement("option",{value:"Smoking"},"Smoking"),r.a.createElement("option",{value:"Smoking"},"Pet"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("select",{name:"category",id:"category",className:"add-room-input form-control",onChange:function(e){return k(e.target.value)}},r.a.createElement("option",{value:"all"},"All"),r.a.createElement("option",{value:"single"},"single"),r.a.createElement("option",{value:"double"},"double"),r.a.createElement("option",{value:"family"},"family"),r.a.createElement("option",{value:"presidential"},"presidential")))),r.a.createElement("div",{className:"filter-room"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"location"},"Location"),r.a.createElement("input",Object(V.a)({name:"location",className:"add-room-input form-control",onChange:function(e){return x(e.target.value)},required:!0},"onChange",function(e){return x(e.target.value)})))),r.a.createElement("div",{className:"filter-room"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"capacity"},"Capacity"),r.a.createElement("input",{type:"number",name:"capacity",id:"capacity",onChange:function(e){return C(e.target.value)},className:"add-room-input form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"size"},"Size"),r.a.createElement("input",{type:"number",name:"size",id:"size",onChange:function(e){return M(e.target.value)},className:"add-room-input form-control"}))),r.a.createElement("div",{className:"filter-room"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"dateAvailable"},"Date Available"),r.a.createElement($.a,{selected:P,className:"add-room-input  form-control",onChange:function(e){return W(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{type:"number",name:"price",id:"price",onChange:function(e){return z(e.target.value)},className:"add-room-input form-control"}))),r.a.createElement("div",{className:"filter-room"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{type:"number",name:"description",id:"description",onChange:function(e){return y(e.target.value)},className:"add-room-input form-control"}))),r.a.createElement("div",{className:"filter-room-btn"},r.a.createElement("div",{className:"explore-btn"},r.a.createElement("button",{className:"btn-add-room"},"Submit"))))))},Z=a(92),ee=(D.a.div(J||(J=Object(F.a)(["\n  // display: none;\n  position: absolute;\n  // background: var(--darkTeal);\n  min-width: 160px;\n  // box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n  z-index: 1;\n"]))),Object(D.a)(Z.c)(K||(K=Object(F.a)(["\nmargin-right: .8rem;\ntransition: all .5s ease;\n&:hover {\n    transform: scale(2);\n}\n"])))),te=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],o=a[1],i=Object(n.useState)(!0),c=Object(m.a)(i,2),s=(c[0],c[1]),u=Object(n.useState)(!1),p=Object(m.a)(u,2),f=p[0],y=(p[1],function(){window.innerWidth<=1e3?s(!1):s(!0)});return Object(n.useEffect)(function(){y()},[]),window.addEventListener("resize",y),r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-center"},r.a.createElement("ul",{className:f?"nav-links show-nav":"nav-links"},r.a.createElement("li",{className:"contact"},r.a.createElement(d.b,{to:"/"},"+123456789 support@gofunroom.cc")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/rooms"},"Rooms")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/add"},"Add")),r.a.createElement("li",null,r.a.createElement(d.b,{to:"/history"},"History"))),r.a.createElement("div",{className:"nav-header"},r.a.createElement(d.b,{to:"/"},r.a.createElement("h1",null,"GoFunRoom"))),r.a.createElement("ul",Object(V.a)({className:"nav-links show-nav",onClick:l},"onClick",function(){return o(!l)}),void 0==e.address?r.a.createElement("li",{className:"reserve"},r.a.createElement(d.b,{to:""},"Connect Wallet")):r.a.createElement("li",{className:"wallet"},r.a.createElement(d.b,{to:""},r.a.createElement(ee,null),"0x...",e.address.substr(-10)),r.a.createElement("div",{className:"drop-down-balance"},r.a.createElement("a",null,"USD Balance: $",e.cUSDBalance,"CUSD"),r.a.createElement("a",null,"Celo Balance: $",e.celoBalance))))))},ae=function(e){Object(b.a)(a,e);var t=Object(E.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer-container"},r.a.createElement("div",{className:"footer-items"},r.a.createElement("h1",null,"GFR"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.b,{to:"/"},"Services")),r.a.createElement("li",{className:"email"},r.a.createElement(d.b,{to:"malito:contact@gofunroom.cc"},"Contact")),r.a.createElement("li",null,r.a.createElement(Z.b,{className:"twitter"})),r.a.createElement("li",null,r.a.createElement(Z.a,{className:"instagram"})))))}}]),a}(n.Component),ne=a(24),re=a(190),le=a.n(re),oe=a(360),ie=a(23),ce=a.n(ie),se=a(361),me=a(362),ue=18,pe="0xBEd21357A22AB95c38d22Fc03696FcA02396Af7c",de="0x874069Fa1Eb16D44d622F2e0Ca25eeA172369bC1";var fe=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(null),i=Object(m.a)(o,2),u=i[0],p=i[1],f=Object(n.useState)(null),y=Object(m.a)(f,2),b=y[0],E=y[1],v=Object(n.useState)(null),g=Object(m.a)(v,2),N=g[0],j=g[1],x=Object(n.useState)(0),O=Object(m.a)(x,2),w=O[0],T=O[1],k=Object(n.useState)([]),B=Object(m.a)(k,2),R=B[0],C=B[1],F=Object(n.useState)([]),D=Object(m.a)(F,2),A=D[0],M=D[1],_=function(){var e=Object(s.a)(c.a.mark(function e(){var t,a,n,r,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.celo){e.next=27;break}return e.prev=1,e.next=4,window.celo.enable();case 4:return t=new le.a(window.celo),a=Object(oe.newKitFromWeb3)(t),e.next=8,a.web3.eth.getAccounts();case 8:return n=e.sent,r=n[0],a.defaultAccount=r,e.next=13,E(r);case 13:return console.log(r),e.next=16,j(a);case 16:l={fromBlock:0,address:["0xBEd21357A22AB95c38d22Fc03696FcA02396Af7c"],topics:[]},t.eth.subscribe("logs",l,function(e,t){e||console.log(t)}).on("data",function(e){u&&U()}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(1),console.log("There is an error"),console.log({error:e.t0});case 25:e.next=28;break;case 27:console.log("please install the extension");case 28:case"end":return e.stop()}},e,null,[[1,21]])}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(s.a)(c.a.mark(function e(){var t,a,n,r,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.methods.getRoomBookingLength().call();case 2:for(t=e.sent,a=[],n=function(e){var t=new Promise(function(){var t=Object(s.a)(c.a.mark(function t(a,n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.methods.getInformationRoom(e).call();case 2:r=t.sent,a({index:e,owner:r[0],name:r[1],imageURL:r[2],description:r[3],services:r[4],category:r[5],availableDate:r[6],capacity:r[7],size:r[8],isBooking:r[9],price:r[10]});case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}());a.push(t)},r=0;r<t;r++)n(r);return e.next=8,Promise.all(a);case 8:l=e.sent,C(l);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(c.a.mark(function e(){var t,a,n,r,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.methods.getRoomBookingLength().call();case 2:for(t=e.sent,a=[],n=function(e){var t=new Promise(function(){var t=Object(s.a)(c.a.mark(function t(a,n){var r;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.methods.getHistory(e).call();case 2:r=t.sent,a({index:e,owner:r[0],renter:r[1],name:r[2],availableDate:r[3],isBooking:r[4],price:r[5]});case 4:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}());a.push(t)},r=0;r<t;r++)n(r);return e.next=8,Promise.all(a);case 8:l=e.sent,M(l);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(s.a)(c.a.mark(function e(t,a,n,r,l,o,i,s,m,p){var d,f,y;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a),d=new ce.a(m).shiftedBy(ue).toString(),f=a.split(","),y=parseInt(Date.parse(p)/1e3),console.log(y),console.log(typeof y),e.next=9,u.methods.addRoom(t,f,n,r,o,s,d,i,y).send({from:b});case 9:U(),L(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(t,a,n,r,l,o,i,c,s,m){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(c.a.mark(function e(t,a){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new N.web3.eth.Contract(me,de),r=new ce.a(t).shiftedBy(ue).toString(),e.next=5,n.methods.approve(pe,r).send({from:b});case 5:return e.next=7,u.methods.rentRoom(a).send({from:b});case 7:H(),U(),L(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){_()},[]),Object(n.useEffect)(function(){if(N&&b)return H();console.log("no kit or address")},[N,b]),Object(n.useEffect)(function(){u&&(U(),L())},[u]);var H=function(){var e=Object(s.a)(c.a.mark(function e(){var t,a,n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getTotalBalance(b);case 2:t=e.sent,a=t.CELO.shiftedBy(-ue).toFixed(2),n=t.cUSD.shiftedBy(-ue).toFixed(2),r=new N.web3.eth.Contract(se,pe),p(r),l(a),T(n);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(d.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{cUSDBalance:w,celoBalance:a,address:b,connectCeloWallet:_}),r.a.createElement(ne.c,null,r.a.createElement(ne.a,{exact:!0,path:"/",component:h}),r.a.createElement(ne.a,{exact:!0,path:"/rooms/"},r.a.createElement(S,{rooms:R})),r.a.createElement(ne.a,{exact:!0,path:"/add/"},r.a.createElement(X,{addToRoom:z})),r.a.createElement(ne.a,{exact:!0,path:"/rooms/:id",render:function(e){return r.a.createElement(W,Object.assign({},e,{key:e.match.params.id,rooms:R,rentRoom:I}))}}),r.a.createElement(ne.a,{exact:!0,path:"/history",render:function(e){return r.a.createElement(Q,Object.assign({},e,{historyRoom:A}))}}),r.a.createElement(ne.a,{component:Error})),r.a.createElement(ae,null)))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null)),document.getElementById("root"))}},[[370,1,2]]]);
//# sourceMappingURL=main.10b775bf.chunk.js.map